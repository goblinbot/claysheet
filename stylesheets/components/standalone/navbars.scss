@import '../../../config';
@import '../../abstracts/all';

$nav-item-size: 1.2rem;
$navbar-block-name: '#{$block-prefix}nav';

@mixin nav--hidden {
  display: none;
  opacity: 0;
  visibility: hidden;
}

@mixin nav--visible {
  display: block;
  opacity: 1;
  visibility: visible;
}

@mixin nav-item {
  @include transition--fast;
  background-color: $color-nav;
  color: $color-nav-text;
  cursor: pointer;
  display: block;
  padding: $nav-item-size;
  position: relative;
  text-decoration: none;
}

// use with <UL> for accessibility.
.#{$navbar-block-name} {
  background-color: $color-nav;
  color: $color-nav-text;
  display: flex;
  flex-direction: row;
  list-style: none;
  margin: 0;
  padding-left: 0;
  width: 100%;

  a {
    color: $color-nav-text;
    text-decoration: none;

    &:hover,
    &:active,
    &:focus {
      color: currentColor;
    }
  }

  // use with <LI>
  &__item {
    @include nav-item;

    &:active,
    &:focus,
    &:focus-within,
    &:hover,
    &--active {
      background-color: darken($color-nav, 10%);
    }

    // use with <UL> --->  ul li ul
    .#{$navbar-block-name}__dropdown {
      @include nav--hidden;
      @include transition--fast;
      background-color: $color-nav;
      left: 0;
      margin-top: $nav-item-size;
      min-width: 4.8rem;
      position: absolute;
      z-index: +1;

      &:hover {
        @include nav--visible;
      }

      // option add seperation pixels between the dropdown items
      &--separated {
        .#{$navbar-block-name}__option + .#{$navbar-block-name}__option {
          border-top: 1px solid darken($color-nav, 15%);
        }
      } // nav__dropdown--separated
    } // nav__dropdown

    &:focus-within .#{$navbar-block-name}__dropdown,
    &:hover .#{$navbar-block-name}__dropdown {
      @include nav--visible;
    }

    &--text-only {
      background-color: $color-nav;
      cursor: default;
    }
  } // nav__item

  // use with <LI> --->  ul li ul li
  &__option {
    @include nav-item;
    @include transition--fast;
    clear: both;
    min-width: 12rem;
    width: 100%;

    &:focus,
    &:hover,
    &--active {
      background-color: darken($color-nav, 10%);
    }
  } // nav__option

  // option add seperation pixels between the dropdown items
  &--separated {
    .#{$navbar-block-name}__item + .#{$navbar-block-name}__item {
      border-left: 1px solid darken($color-nav, 15%);
    }
  } // nav--separated
} // nav
